<header class="bg-terminal-bg text-terminal-text body-font border-b-2 border-terminal-border">
  <div class="container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center" data-controller="navbar">
    <a href="/" class="flex title-font font-medium items-center text-terminal-text mb-4 md:mb-0">
      <%= render 'shared/logo_svg' %>
      <span class="text-xl">Wakannyai</span>
    </a>

    <button id="hamburger-button" data-action="click->navbar#toggleMenu" class="md:hidden absolute top-4 right-4 active text-terminal-text">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
    </button>

    <nav class="hidden w-full space-x-5 md:flex md:w-auto md:mr-auto md:ml-4 md:py-1 md:pl-4 md:border-l md:border-terminal-border flex-wrap items-center text-base justify-center">
      <%= link_to "新規作成", new_post_path, class:"hover:text-terminal-accent transition-all duration-300" %>
      <%= link_to "あなたのQ&A", posts_my_posts_path, class:"hover:text-terminal-accent transition-all duration-300" %>
    </nav>

    <%= button_to(current_user ? destroy_user_session_path : new_user_session_path,
            class: "inline-flex items-center bg-terminal-accent text-terminal-bg border-0 py-1 px-3 focus:outline-none cursor-pointer rounded-lg text-base mt-4 md:mt-0 hover:bg-terminal-text",
            form: { class: "hidden md:flex" },
            method: current_user ? :delete : :get) do %>
      <%= current_user ? 'ログアウト' : 'ログイン' %>
      <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-1" viewBox="0 0 24 24">
        <path d="M5 12h14M12 5l7 7-7 7"></path>
      </svg>
    <% end %>

    <div id="nav-menu" data-navbar-target="menu" class="hidden fixed inset-0  bg-opacity-50 z-50 transition-transform transform translate-x-full">
      <div class="bg-terminal-bg w-2/3 h-full absolute right-0 p-8 flex flex-col items-start">
        <button id="hamburger-button" data-action="click->navbar#toggleMenu" class="absolute top-4 right-4 active text-terminal-text">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6L18 18"></path>
          </svg>
        </button>
        <div class="w-full mb-4">
          <a href="/" class="block py-2 text-terminal-text">Home</a>
          <% if current_user %>
            <%= link_to "新規作成", new_post_path, class:"block py-2 text-terminal-text" %>
            <%= link_to "あなたのQ&A", posts_my_posts_path, class:"block py-2 text-terminal-text" %>
            <%= link_to "ログアウト", destroy_user_session_path, class:"block py-2 text-terminal-text", data: { turbo_method: :delete } %>
          <% else %>
            <%= link_to "ログイン", new_user_session_path, class:"block py-2 text-terminal-text" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</header>